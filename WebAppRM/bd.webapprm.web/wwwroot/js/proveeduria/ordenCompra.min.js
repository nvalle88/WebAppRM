function eventoSpinner(){$(".spinner").spinner("changed",function(e,a,i){calcularCostos()})}function callBackInicializarTableListadoSeleccion(){initDataTableFiltrado("tableDetallesArticulos",[])}function eventoProveedor(){$("#IdProveedor").on("change",function(e){partialViewProveedor()})}function partialViewProveedor(){mostrarLoadingPanel("checkout-form","Cargando datos de proveedor..."),$.ajax({url:proveedorSelectResult,method:"POST",data:{idProveedor:$("#IdProveedor").val()},success:function(e){$("#divDatosProveedor").html(e)},complete:function(e){$("#checkout-form").waitMe("hide")}})}function callBackFunctionEliminarDatoEspecifico(e){deleteRowDetallesActivosFijos("tableDetallesOrdenCompra",e),eliminarRecepcionActivoFijoDetalleSeleccionado(e),calcularCostos()}function CallbackFunctionCheckBoxArticulo(e,a){a?(adicionarRecepcionActivoFijoDetalleSeleccionado(e,!0),addRowDetallesActivosFijos("tableDetallesOrdenCompra","tableDetallesArticulos",e,["NombreArticulo","UnidadMedida","Cantidad","ValorUnitario","ValorTotal",'<input type="hidden" class="hiddenIdRecepcionActivoFijoDetalle" id="hIdRecepcionActivoFijoDetalle_'+e+'" name="hIdRecepcionActivoFijoDetalle_'+e+'" value="'+e+'" />'+("<div id='divEliminarDatosEspecificos_"+e+"' class='btnEliminarDatosEspecificos' style='display:inline;'><a href='javascript: void(0);' id='btnEliminarDatosEspecifico_"+e+"' onclick=abrirVentanaConfirmacion('btnEliminarDatosEspecifico_"+e+"') data-funcioncallback=callBackFunctionEliminarDatoEspecifico('"+e+"') data-titulo='Eliminar' data-descripcion='&#191; Desea eliminar el Artículo seleccionado... ?'>Eliminar</a></div>")],!0),$("#spinner_"+e).spinner("changed",function(e,a,i){calcularCostos()}),Init_TouchspinPorId("valorUnitario_"+e)):callBackFunctionEliminarDatoEspecifico(e)}function calcularCostos(){for(var e=0,a=0;a<arrRecepcionActivoFijoDetalleSeleccionado.length;a++){var i=arrRecepcionActivoFijoDetalleSeleccionado[a].idRecepcionActivoFijoDetalle,o=parseInt($("#cantidad_"+i).val()),t=parseFloat($("#valorUnitario_"+i).val());if(0<o&&0<t){var n=o*t;$("#spanValorTotal_"+i).html("$"+n.toFixed(2)),e+=n}}$("#spanTotal").html(e.toFixed(2))}function eventoGuardar(){$("#btn-guardar").on("click",function(e){var a=$("#tableDetallesOrdenCompra").dataTable().api(),i=$("#checkout-form"),o=!0;0==a.rows().nodes().length&&(mostrarNotificacion("Error","Tiene que seleccionar al menos un Artículo."),o=!1),i.valid()||(o=!1),o&&$("#btn-guardar").prop("type","submit")})}$(document).ready(function(){Init_Select2(),Init_DatetimePicker("Fecha",!0),Init_DatetimePicker("Factura_FechaFactura",!0),Init_Touchspin(),eventoProveedor(),partialViewProveedor(),Init_FileInput("file"),inicializarDetallesActivoSeleccion(),initDataTableFiltrado("tableDetallesOrdenCompra",[]),eventoGuardar(),eventoSpinner(),calcularCostos()});