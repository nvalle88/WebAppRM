function eventoMotivoSalidaArticulos(){$("#IdMotivoSalidaArticulos").on("change",function(e){partialViewBajaDevolucionDespacho()})}function callBackFunctionEliminarDatoEspecifico(e){deleteRowDetallesActivosFijos("tableDetallesRequerimientos",e),eliminarRecepcionActivoFijoDetalleSeleccionado(e)}function partialViewBajaDevolucionDespacho(){var e=$("#IdMotivoSalidaArticulos option:selected").text();$("#MotSalida").val(e),"baja de inventarios"==e.toLowerCase()||"despacho"==e.toLowerCase()?(mostrarLoadingPanel("checkout-form","Cargando empleados..."),$.ajax({url:urlEmpleadoDevolucionSelectResult,method:"POST",data:{idSucursal:$("#IdSucursal").val()},success:function(e){mostrarOcultarFieldsetProveedor(!1),$("#divDetallesEmpleadoDevolucion").html(e),mostrarOcultarFieldsetEmpleadoDevolucion(!0),Init_Select2()},complete:function(e){$("#checkout-form").waitMe("hide")}})):(mostrarLoadingPanel("checkout-form","Cargando proveedores..."),$.ajax({url:proveedorSelectResult,method:"POST",success:function(e){mostrarOcultarFieldsetEmpleadoDevolucion(!1),$("#divDetallesProveedor").html(e),Init_Select2(),mostrarOcultarFieldsetProveedor(!0)},complete:function(e){$("#checkout-form").waitMe("hide")}}))}function mostrarOcultarFieldsetProveedor(e){e?($("#legendDetallesProveedor").removeClass("hide"),$("#divDetallesProveedor").removeClass("hide")):($("#legendDetallesProveedor").addClass("hide"),$("#divDetallesProveedor").addClass("hide"))}function mostrarOcultarFieldsetEmpleadoDevolucion(e){e?($("#legendDetallesEmpleadoDevolucion").removeClass("hide"),$("#divDetallesEmpleadoDevolucion").removeClass("hide")):($("#legendDetallesEmpleadoDevolucion").addClass("hide"),$("#divDetallesEmpleadoDevolucion").addClass("hide"))}function eventoGuardar(){$("#btn-guardar").on("click",function(e){var o=$("#tableDetallesRequerimientos").dataTable().api(),a=$("#checkout-form"),l=!0,i=$("#IdMotivoSalidaArticulos option:selected").text(),t=null,r=!0;"baja de inventarios"==i.toLowerCase()||"despacho"==i.toLowerCase()?t=$("#IdEmpleadoDevolucion").val():(t=$("#IdProveedorDevolucion").val(),r=!1),null!=t&&""!=t&&t||(mostrarNotificacion("Error","Tiene que seleccionar un "+(r?"Empleado":"Proveedor")+"."),l=!1),0==o.rows().nodes().length&&(mostrarNotificacion("Error","Tiene que seleccionar al menos un Artículo."),l=!1),a.valid()||(l=!1),l&&$.ajax({url:bodegaExisteResult,method:"POST",data:{idDependencia:$("#FuncionarioSolicitante_IdDependencia").val()},success:function(e){$("#checkout-form").submit()},error:function(e){mostrarNotificacion("Error","Ocurrió un error al tratar de identificar la Bodega para la dependencia "+dependenciaRequerimiento+".")}})})}$(document).ready(function(){Init_Select2(),inicializarDetallesActivoSeleccion(),initDataTableFiltrado("tableDetallesRequerimientos",[]),eventoMotivoSalidaArticulos(),partialViewBajaDevolucionDespacho(),eventoGuardar()});