function deshabilitarCamposFormulario(){$("#IdSucursalOrigen").prop("disabled","disabled"),$("#IdSucursalDestino").prop("disabled","disabled"),$("#IdEmpleadoEntrega").prop("disabled","disabled"),$("#IdEmpleadoRecibe").prop("disabled","disabled")}function adicionarArrRecepcionActivoFijoDetalle(){var a=idsRecepcionActivoFijoDetalle.split(",");$.each(a,function(a,e){""!=e&&null!=e&&adicionarRecepcionActivoFijoDetalleSeleccionado(e,!0)})}function eventoSucursalOrigen(){$("#IdSucursalOrigen").on("change",function(a){partialViewEmpleadosPorSucursal("divEmpleadosSucursalOrigen","IdSucursalOrigen","_EmpleadosTransferenciaSucursalOrigen")})}function eventoSucursalDestino(){$("#IdSucursalDestino").on("change",function(a){partialViewEmpleadosPorSucursal("divEmpleadosSucursalDestino","IdSucursalDestino","_EmpleadosTransferenciaSucursalDestino")})}function partialViewEmpleadosPorSucursal(e,a,o){mostrarLoadingPanel("checkout-form","Cargando empleados..."),$.ajax({url:urlEmpleadoTransferenciaResult,method:"POST",data:{idSucursal:$("#"+a).val(),namePartialView:o},success:function(a){$("#"+e).html(a),Init_Select2()},complete:function(a){"divEmpleadosSucursalOrigen"==e?partialViewActivosFijosPorCustodio():$("#IdSucursalOrigen").val()==$("#IdSucursalDestino").val()?copiarSucursales():$("#checkout-form").waitMe("hide"),eventoCustodioEntrega()}})}function eventoCustodioEntrega(){$("#IdEmpleadoEntrega").on("change",function(a){partialViewActivosFijosPorCustodio()})}function partialViewActivosFijosPorCustodio(){mostrarLoadingPanel("checkout-form","Cargando listado de activos fijos..."),$.ajax({url:urlListadoActivosFijosCustodioResult,method:"POST",data:{idEmpleado:$("#IdEmpleadoEntrega").val()},success:function(a){$("#divActivosFijosATransferir").html(a),initDataTableFiltrado("tableDetallesActivoFijoBajas",[thClassName.bodega,thClassName.proveedor,thClassName.motivoAlta,thClassName.fechaRecepcion,thClassName.ordenCompra,thClassName.fondoFinanciamiento,thClassName.fechaAlta,thClassName.numeroFactura]),$("#tableDetallesActivoFijoBajas").DataTable().page.len(-1).draw(),arrRecepcionActivoFijoDetalleSeleccionado=[]},complete:function(a){$("#IdSucursalOrigen").val()==$("#IdSucursalDestino").val()?copiarSucursales():$("#checkout-form").waitMe("hide")}})}function callBackFunctionSeleccionBaja(a,e){e?adicionarRecepcionActivoFijoDetalleSeleccionado(a,e):eliminarRecepcionActivoFijoDetalleSeleccionado(a)}function eventoGuardar(){$("#btn-guardar").on("click",function(a){var e=$("#checkout-form"),o=!0;if(0==arrRecepcionActivoFijoDetalleSeleccionado.length&&(mostrarNotificacion("Error","Tiene que seleccionar al menos un Activo Fijo."),o=!1),e.valid()||(o=!1),o){for(var i=[],t=0;t<arrRecepcionActivoFijoDetalleSeleccionado.length;t++)i.push(arrRecepcionActivoFijoDetalleSeleccionado[t].idRecepcionActivoFijoDetalle);var l=i.join(",").toString();$("#idsRecepcionActivoFijoDetalle").val(l),$("#btn-guardar").prop("type","submit")}})}function copiarSucursales(){$("#IdSucursalDestino").html(""),$("#IdSucursalDestino").select2("data",null);for(var a=$("#IdSucursalOrigen").val(),e=document.getElementById("IdSucursalOrigen").children,o=0;o<e.length;o++){var i=e[o].value;if(i!=a){var t=new Option(e[o].text,i,!1,!1);$("#IdSucursalDestino").append(t).trigger("change")}}partialViewEmpleadosPorSucursal("divEmpleadosSucursalDestino","IdSucursalDestino","_EmpleadosTransferenciaSucursalDestino")}$(document).ready(function(){Init_Select2(),Init_DatetimePicker("FechaTransferencia",!0),inicializarDetallesActivoSeleccion(),initDataTableFiltrado("tableDetallesActivoFijoBajas",[thClassName.bodega,thClassName.proveedor,thClassName.motivoAlta,thClassName.fechaRecepcion,thClassName.ordenCompra,thClassName.fondoFinanciamiento,thClassName.fechaAlta,thClassName.numeroFactura]),$("#tableDetallesActivoFijoBajas").DataTable().page.len(-1).draw(),eventoCustodioEntrega(),eventoGuardar(),adicionarArrRecepcionActivoFijoDetalle(),eventoSucursalOrigen(),eventoSucursalDestino(),$("#IdSucursalOrigen").prop("disabled","disabled"),idEditar&&deshabilitarCamposFormulario()});