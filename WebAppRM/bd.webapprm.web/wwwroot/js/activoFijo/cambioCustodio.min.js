function adicionarArrRecepcionActivoFijoDetalle(){var e=idsRecepcionActivoFijoDetalle.split(",");$.each(e,function(e,a){""!=a&&null!=a&&adicionarRecepcionActivoFijoDetalleSeleccionado(a,!0)})}function eventoCustodioEntrega(){$("#IdEmpleadoEntrega").on("change",function(e){partialViewActivosFijosPorCustodio()})}function partialViewActivosFijosPorCustodio(){mostrarLoadingPanel("checkout-form","Cargando listado de activos fijos..."),$.ajax({url:urlListadoActivosFijosCustodioResult,method:"POST",data:{idEmpleado:$("#IdEmpleadoEntrega").val()},success:function(e){$("#divActivosFijosATransferir").html(e),initDataTableFiltrado("tableDetallesActivoFijoBajas",[thClassName.bodega,thClassName.proveedor,thClassName.motivoAlta,thClassName.fechaRecepcion,thClassName.ordenCompra,thClassName.fondoFinanciamiento,thClassName.fechaAlta,thClassName.numeroFactura],null,{mostrarTodos:!0}),arrRecepcionActivoFijoDetalleSeleccionado=[]},complete:function(e){copiarEmpleados(),$("#checkout-form").waitMe("hide")}})}function copiarEmpleados(){$("#IdEmpleadoRecibe").html(""),$("#IdEmpleadoRecibe").select2("data",null);for(var e=$("#IdEmpleadoEntrega").val(),a=document.getElementById("IdEmpleadoEntrega").children,o=0;o<a.length;o++){var i=a[o].value;if(i!=e){var t=new Option(a[o].text,i,!1,!1);$("#IdEmpleadoRecibe").append(t).trigger("change")}}}function eventoGuardar(){$("#btn-guardar").on("click",function(e){var a=$("#checkout-form"),o=!0;if(0==arrRecepcionActivoFijoDetalleSeleccionado.length&&(mostrarNotificacion("Error","Tiene que seleccionar al menos un Activo Fijo."),o=!1),a.valid()||(o=!1),o){for(var i=[],t=0;t<arrRecepcionActivoFijoDetalleSeleccionado.length;t++)i.push(arrRecepcionActivoFijoDetalleSeleccionado[t].idRecepcionActivoFijoDetalle);var c=i.join(",").toString();$("#idsRecepcionActivoFijoDetalle").val(c),$("#btn-guardar").prop("type","submit")}})}function callBackFunctionSeleccionBaja(e,a){a?adicionarRecepcionActivoFijoDetalleSeleccionado(e,a):eliminarRecepcionActivoFijoDetalleSeleccionado(e)}$(document).ready(function(){Init_Select2(),eventoCustodioEntrega(),eventoGuardar(),inicializarDetallesActivoSeleccion(),initDataTableFiltrado("tableDetallesActivoFijoBajas",[thClassName.bodega,thClassName.proveedor,thClassName.motivoAlta,thClassName.fechaRecepcion,thClassName.ordenCompra,thClassName.fondoFinanciamiento,thClassName.fechaAlta,thClassName.numeroFactura],null,{mostrarTodos:!0}),$("#tableDetallesActivoFijoBajas").DataTable().page.len(-1).draw(),0==isVistaDetalles&&copiarEmpleados(),adicionarArrRecepcionActivoFijoDetalle(),inicializarIdsArrRecepcionActivoFijoDetalleTodos()});