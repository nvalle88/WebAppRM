var objCategorias={Edificio:"EDIFICIOS",MueblesEnseres:"MUEBLES Y ENSERES",EquiposOficina:"EQUIPOS DE OFICINA",Vehiculo:"VEHÍCULOS",EquiposComputoSoftware:"EQUIPOS DE CÓMPUTO Y SOFTWARE"};function eventoInputMayuscula(){$(":input").on("keyup",function(t){t.currentTarget.value=t.currentTarget.value.toUpperCase()})}function Init_Touchspin(){$(".touchspin_tasa").TouchSpin({min:0,max:99999999999,decimals:2,prefix:"$",step:.01,buttondown_class:"btn btn-primary",buttonup_class:"btn btn-primary"})}function Init_TouchspinPorId(t){$("#"+t).TouchSpin({min:0,max:99999999999,decimals:2,prefix:"$",step:.01,buttondown_class:"btn btn-primary",buttonup_class:"btn btn-primary"})}function Init_Select2(){$("select").select2({theme:"classic",allowClear:!1,placeholder:"Seleccione...",language:"es"})}function Init_DatetimePicker(t,a,o){var n="DD/MM/YYYY",e={format:o?n:n+" hh:mm a"};a&&(e.maxDate=moment()),$("#"+t).datetimepicker(e).on("dp.show",function(t){a&&$(this).data("DateTimePicker").maxDate(moment())})}function Init_DateRangePicker(t,a,o){$("#"+o).daterangepicker({opens:"left",format:"MM/DD/YYYY",separator:" a ",applyClass:"btn btn-primary",cancelClass:"btn btn-default",endDate:moment(),startDate:t,endDate:a,maxDate:moment()},function(t,a){$("#"+o+" input").val(t.format("MMMM D, YYYY")+" - "+a.format("MMMM D, YYYY"));try{onValueChangedDateRangerPicker(t.format("MM/DD/YYYY"),a.format("MM/DD/YYYY"))}catch(t){}}),$("#"+o+" input").val(moment(t.toLocaleDateString("es-ES"),"MM/DD/YYYY").format("MMMM D, YYYY")+" - "+moment().format("MMMM D, YYYY"))}function Init_FileInput(t){$("#"+t).fileinput({showUpload:!1,language:"es"})}function Init_DeteccionLectorCodigoBarras(t,o){$("#"+t).scannerDetection({timeBeforeScanTest:200,startChar:[120],endChar:[13],avgTimeByChar:40,onComplete:function(t,a){try{o(t,a)}catch(t){}},onError:function(t){mostrarNotificacion("Error",t)}})}function Init_XEditable(n){$(".btntextAreaEditable").editable({showbuttons:"bottom",emptytext:"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",success:function(t,a){var o=$(this).data("idrecepcionactivofijodetalle");n(o,a)},display:function(t,a){t?$(this).html(t.toUpperCase()):$(this).empty()}})}$(document).ready(function(){eventoInputMayuscula()});var arrBootBox=[];function closeBootBox(){arrBootBox[arrBootBox.length-1].modal("hide")}function ajustarBootboxPorCiento(t){arrBootBox[arrBootBox.length-1].find(".modal-dialog").prop("style","width:"+t+"% !important;")}function ajustarHeightBootbox(){$(".modal-body").attr("style","max-height:"+($(window).height()-$(window).height()/4)+"px;overflow-y:auto;")}function Init_BootBox(t,a,o,n,e,r){var i={title:t,message:a};o&&(i.size=o),i.buttons={cancel:{label:"Cancelar",className:"btn-default",callback:function(){return r&&r(),closeBootBox(),!1}}},n&&null!=n&&$.each(n,function(t,a){i.buttons[a.key]=a.obj}),e&&null!=e&&e.isGuardar&&(i.buttons.confirm={label:"Guardar",className:"btn-primary",callback:function(){return e.callbackGuardar&&e.callbackGuardar(),e.hideAlGuardar&&closeBootBox(),!1}});var l=bootbox.dialog(i);arrBootBox.push(l),ajustarHeightBootbox(),eventoInputMayuscula(),l.on("hidden.bs.modal",function(){arrBootBox.splice(arrBootBox.length-1,1),r&&r()})}function mostrarLoadingPanel(t,a){$("#"+t).waitMe({effect:"roundBounce",text:a,bg:"rgba(255, 255, 255, 0.7)",color:"#ef4c0c",fontSize:"15px"})}function mostrarNotificacion(t,a){var o="",n="";-1<t.indexOf("Informaci")?(o="#3276B1",n="exclamation-circle"):"Error"==t?(o="#C46A69",n="times-circle"):(o="#c79121",n="exclamation-triangle"),$.sound_on=!0,$.smallBox({title:t,content:a,color:o,icon:"fa fa-"+n+" shake animated",timeout:6e3})}function AsignarCodigoBarrasPorClase(t){try{JsBarcode(".imgBarCode",t,{format:"CODE128",displayValue:!0,fontSize:20})}catch(t){}}function AsignarCodigoBarrasPorId(t,a){try{JsBarcode("#"+t,a,{format:"CODE128",displayValue:!0,fontSize:20})}catch(t){}}function obtenerIdAjax(t){try{return parseInt(t)}catch(t){return-1}}function Gestionar_Msg(){var t=$("#span_mensaje").html();if(""!=t&&null!=t){var a=t.split("|");mostrarNotificacion(a[0],a[1])}var o=$("#span_error").html();""!=o&&null!=o&&mostrarNotificacion("Error",o)}function initLoadingForm(){$(this).on("submit",function(t){$(t.target).hasClass("noFormLoading")||($("#btn-guardar").prop("disabled","disabled"),$("#btn-guardar").html("<i class='fa fa-spinner fa-spin'></i> "+$("#btn-guardar").html()))})}function agregarCeros(t,a){if(t.length<a)for(var o=a-t.length,n=0;n<o;n++)t="0"+t;return t}function abrirVentanaConfirmacion(id){var btn_eliminar=$("#"+id);$.SmartMessageBox({title:btn_eliminar.data("titulo"),content:btn_eliminar.data("descripcion"),buttons:"[No][Si]"},function(ButtonPressed){if("Si"===ButtonPressed){var dataUrl=btn_eliminar.data("url");if(null!=dataUrl&&""!=dataUrl)window.location.href=btn_eliminar.data("url");else try{eval(btn_eliminar.data("funcioncallback"))}catch(t){}}})}function initDataTableFiltrado(t,a,o,n,e){var r=void 0,i={tablet:1024,phone:480},l=$("#"+t).DataTable({lengthMenu:[[10,25,50,100,-1],[10,25,50,100,"Todos"]],sDom:"<'dt-toolbar'<'col-xs-12 col-sm-6'f><'col-sm-6 col-xs-6 hidden-xs'l'C>r>t<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",autoWidth:!0,order:[],preDrawCallback:function(){r||(r=new ResponsiveDatatablesHelper($("#"+t),i))},rowCallback:function(t){r.createExpandIcon(t)},drawCallback:function(t){r.respond();try{o&&null!=o&&o()}catch(t){}}});$("#"+t+" thead th input[type=text]").on("keyup change",function(){l.column($(this).parent().index()+":visible").search(this.value).draw()});for(var s=0;s<a.length;s++){var c=l.column(".th"+a[s]);c&&null!=c&&c.visible(!1)}n&&null!=n&&ocultarDatosTabla(t,n),e&&null!=e&&ocultarColVis(t);try{if(mostrarBtnAgrupar&&1==mostrarBtnAgrupar)$('<button type="button" class="btn btn-default btnAgruparFilas" data-idtabla="'+t+'" onclick="eventoWndAgrupar(this)" style="float:right !important;margin-right:3px !important;"><i class="fa fa-list"></i> Agrupar por columnas</button>').insertAfter("#"+t+"_length + div")}catch(t){}}function changeDrawDataTableFiltrado(t,a){var o=$("#"+t).DataTable();o.off("preDraw"),o.off("row"),o.off("draw");var n=void 0,e={tablet:1024,phone:480};o.on("preDraw",function(){n||(n=new ResponsiveDatatablesHelper($("#"+t),e))}),o.on("row",function(){n.createExpandIcon(nRow)}),o.on("draw",function(){n.respond(),a()}),$("#"+t).dataTable().fnDraw()}function crearGrupo(o,n){for(var e=$("#"+o).dataTable(),t=e.api(),r=t.rows().nodes(),i=null,l=[],s=0,c=0;c<n.length;c++)t.column("#th"+o+n[c].propiedad).data().each(function(t,a){i!==t&&($(r).eq(a).before('<tr class="group '+(o+n[c].propiedad)+'" id="grupo'+a+'"><td colspan="'+e.fnSettings().aoColumns.length+"\" style=\"font-weight:bold;\"><i class='fa fa-angle-down' style='font-weight:bold;padding-left:"+s+"px;'></i> "+n[c].valor+": "+t+"</td></tr>"),l.push(a),i=t)}),s+=10}function crearGrupoSubtotal(t,a,o,n){var e=$("#"+t).dataTable(),r=e.api(),i=r.rows().nodes();n||(n=!1),0==n&&crearGrupo(t,a);var l=r.rows().nodes().length,s=0;if(0<l){var c=0,u=0;do{c=obtenerPosArrMismoTextoDatatable(c,t,r,o);for(var d=0,f="",p=u;p<=c;p++){var m=arrIdsFilasSeleccionados[p];d+=Number($("#hhValorCompra_"+m).val()),""==f&&(f=$("#hhIdClaseActivoFijo_"+m).val())}s+=d,0==n?$(i).eq(c).after('<tr class="trSpanSubtotal"><td colspan="'+(e.fnSettings().aoColumns.length-2)+'" style="background:white !important;"></td><td colspan="2" style="font-weight:bold;background:#ddd !important;">Subtotal: $<span id="spanSubtotal_'+f+'">'+d.toFixed(2)+'</span></td></tr><tr class="trEmtpySpace"><td colspan="'+e.fnSettings().aoColumns.length+'" style="padding-top:20px !important;"></td></tr>'):$("#spanSubtotal_"+f).html(d.toFixed(2)),u=++c}while(c<l)}$("#spanTotal").html(s.toFixed(2))}function inicializarArrIdsFilasSeleccionados(n){$.each($(".trDetallesRecepcion"),function(t,a){var o=$(a).prop("id").replace(n,"");arrIdsFilasSeleccionados.push(o)})}function obtenerPosArrMismoTextoDatatable(t,a,o,n){for(var e=$("#"+a).DataTable(),r=o.rows().nodes().length,i="",l=t;l<r;l++){var s=$(e.row(l).node()).prop("id").replace(a,""),c=e.cell("#"+a+s+n).data();if(""==i)i=c;else if(c!=i)return l-1;if(l==r-1)return l}return r}function initTreeView(){$(".tree > ul").attr("role","tree").find("ul").attr("role","group"),$(".tree").find("li:has(ul)").addClass("parent_li").attr("role","treeitem").find(" > span").attr("title","Cerrar").on("click",function(t){var a=$(this).parent("li.parent_li").find(" > ul > li");a.is(":visible")?(a.hide("fast"),$(this).attr("title","Expandir").find(" > i").removeClass().addClass("fa fa-lg fa-filter")):(a.show("fast"),$(this).attr("title","Cerrar").find(" > i").removeClass().addClass("fa fa-lg fa-minus-circle")),t.stopPropagation()})}function animacionAnclas(){$(".ancla_enlace").click(function(t){t.preventDefault(),irAncla($(this))})}function irAncla(t){try{$("html, body").stop().animate({scrollTop:$(t.attr("href")).offset().top},1e3)}catch(t){}}